# ========================================
# Auth Service Environment Configuration
# ========================================
# Copy this file to .env and update values
# NEVER commit .env file to version control

# ========================================
# Application Environment
# ========================================
NODE_ENV=development
# Options: development, staging, production
GIN_MODE=debug
# Options: debug, release
LOG_LEVEL=info
# Options: debug, info, warn, error

# ========================================
# Database Configuration
# ========================================
AUTH_DB_HOST=postgres-auth
AUTH_DB_PORT=5432
AUTH_DB_NAME=auth_db
AUTH_DB_USER=postgres
AUTH_DB_PASSWORD=changeme_secure_password
# Connection pool settings
AUTH_DB_MAX_OPEN_CONNS=25
AUTH_DB_MAX_IDLE_CONNS=5
AUTH_DB_CONN_MAX_LIFETIME=5m

# ========================================
# Redis Configuration
# ========================================
REDIS_URL=redis://redis-cache:6379
REDIS_PASSWORD=changeme_redis_password
REDIS_DB=0
REDIS_POOL_SIZE=10
REDIS_MIN_IDLE_CONNS=5

# ========================================
# JWT Configuration
# ========================================
# Minimum 32 characters for production
JWT_ACCESS_SECRET=changeme_access_secret_min_32_characters_required
JWT_REFRESH_SECRET=changeme_refresh_secret_min_32_characters_required
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=auth-service
JWT_ALGORITHM=HS256

# ========================================
# Server Configuration
# ========================================
SERVER_PORT=8001
SERVER_READ_TIMEOUT=10s
SERVER_WRITE_TIMEOUT=10s
SERVER_IDLE_TIMEOUT=60s
SERVER_SHUTDOWN_TIMEOUT=30s

# ========================================
# CORS Configuration
# ========================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Authorization,Content-Type,X-Request-ID
CORS_EXPOSED_HEADERS=X-Request-ID
CORS_ALLOW_CREDENTIALS=true
CORS_MAX_AGE=3600

# ========================================
# OAuth2 Configuration (Optional)
# ========================================
OAUTH2_ENABLED=false
# Google OAuth
OAUTH2_GOOGLE_CLIENT_ID=your_google_client_id
OAUTH2_GOOGLE_CLIENT_SECRET=your_google_client_secret
OAUTH2_GOOGLE_REDIRECT_URL=http://localhost:8001/api/v1/auth/oauth/google/callback
# GitHub OAuth
OAUTH2_GITHUB_CLIENT_ID=your_github_client_id
OAUTH2_GITHUB_CLIENT_SECRET=your_github_client_secret
OAUTH2_GITHUB_REDIRECT_URL=http://localhost:8001/api/v1/auth/oauth/github/callback
# Facebook OAuth
OAUTH2_FACEBOOK_CLIENT_ID=your_facebook_client_id
OAUTH2_FACEBOOK_CLIENT_SECRET=your_facebook_client_secret
OAUTH2_FACEBOOK_REDIRECT_URL=http://localhost:8001/api/v1/auth/oauth/facebook/callback

# ========================================
# Rate Limiting
# ========================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# ========================================
# Email Configuration (for password reset)
# ========================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_email_password
SMTP_FROM=noreply@example.com
SMTP_FROM_NAME=Auth Service

# ========================================
# Monitoring & Observability
# ========================================
METRICS_ENABLED=true
TRACING_ENABLED=false
TRACING_ENDPOINT=http://jaeger:14268/api/traces

# ========================================
# Security
# ========================================
# Password policy
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=false
# Account security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=15m
SESSION_TIMEOUT=24h
# Two-factor authentication
TWO_FACTOR_ENABLED=false
TWO_FACTOR_ISSUER=AuthService

# ========================================
# Frontend Configuration
# ========================================
FRONTEND_URL=http://localhost:3000
API_BASE_URL=http://localhost:8001

# ========================================
# Traefik Gateway Configuration
# ========================================
TRAEFIK_DOMAIN=localhost
TRAEFIK_ACME_EMAIL=admin@example.com
TRAEFIK_DASHBOARD_ENABLED=true
TRAEFIK_DASHBOARD_USER=admin
# Generate with: htpasswd -nb admin your_password
TRAEFIK_DASHBOARD_PASSWORD=$2y$10$changeme_hashed_password